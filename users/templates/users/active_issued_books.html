<!-- templates/active_issued_books.html -->
{% extends "library/base.html" %}

{% block title %}Active Issued Books{% endblock %}

{% block content %}
<!-- Main container for the active issued books -->
<div class="active-issued-books-container">
    <h2>Active Issued Books</h2>
    <!-- Table to display the list of active issued books -->
    <table class="issued-books-table">
        <thead>
            <tr>
                <th>Book Title</th>
                <th>User</th>
                <th>Issued Date</th>
                <th>Due Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for issued_book in issued_books %}
            <tr>
                <!-- Issued book details -->
                <td>{{ issued_book.book.title }}</td>
                <td>{{ issued_book.user.user.get_full_name }}</td>
                <td>{{ issued_book.issued_date }}</td>
                <td>{{ issued_book.due_date }}</td>
                <!-- Form to mark the book as returned -->
                <td>
                    <form action="{% url 'mark_as_returned' issued_book.pk %}" method="post" class="mark-return-form">
                        {% csrf_token %}
                        <!-- Submit button to mark the book as returned -->
                        <button type="submit" class="mark-return-button">Mark as Returned</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Adding CSS for the active issued books page -->
<style>
    /* Main Active Issued Books Container */
    .active-issued-books-container {
        max-width: 800px; /* Limit the width of the container */
        margin: 0 auto; /* Center the container */
        padding: 20px; /* Add padding around the container */
    }

    /* Issued Books Table Styling */
    .issued-books-table {
        width: 100%; /* Set table width to 100% */
        border-collapse: collapse; /* Collapse table borders */
    }

    /* Table Header Styling */
    .issued-books-table th {
        background-color: #f2f2f2; /* Header background color */
        padding: 10px; /* Add padding to header cells */
        text-align: left; /* Left-align header text */
        border-bottom: 2px solid #ddd; /* Bottom border for header cells */
    }

    /* Table Data Styling */
    .issued-books-table td {
        padding: 10px; /* Add padding to data cells */
        border-bottom: 1px solid #ddd; /* Bottom border for data cells */
    }

    /* Mark Return Form Styling */
    .mark-return-form {
        text-align: center; /* Center align the form */
    }

    /* Mark Return Button Styling */
    .mark-return-button {
        background-color: #e74c3c; /* Button background color */
        color: #fff; /* Button text color */
        border: none; /* Remove button border */
        padding: 5px 10px; /* Add padding to the button */
        border-radius: 5px; /* Round the corners of the button */
        cursor: pointer; /* Change cursor to pointer on hover */
        transition: background-color 0.3s ease; /* Smooth transition for background color change */
    }

    /* Mark Return Button Hover Effect */
    .mark-return-button:hover {
        background-color: #c0392b; /* Change button background color on hover */
    }
</style>
{% endblock %}
